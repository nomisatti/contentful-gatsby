{"version":3,"sources":["webpack:///./src/pages/index.tsx"],"names":["data","useState","Object","netlifyData","setNetlifyData","useEffect","fetch","then","response","json","console","log","JSON","stringify","posts","allContentfulBlogSite","edges","map","post","index","key","to","node","slug","title","message","query"],"mappings":"2FAAA,kFAIe,sBAAc,IAAXA,EAAW,EAAXA,KAAW,EAEYC,mBAASC,QAAzCC,EAFoB,KAENC,EAFM,KAI3BC,qBAAU,WACRC,MAAM,uCACLC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAP,GAEJI,EAAeJ,GACfU,QAAQC,IAAI,SAAWC,KAAKC,UAAUb,SAGzC,IACDU,QAAQC,IAAIX,GACZ,IAAMc,EAAQd,EAAKe,sBAAsBC,MAAMC,KAAI,SAACC,EAAMC,GAAP,OACjD,wBAAIC,IAAKD,GAAO,kBAAC,IAAD,CAAME,GAAIH,EAAKI,KAAKC,MAAOL,EAAKI,KAAKE,WAEvD,OACE,6BACE,4BACGV,GAGH,6BACA,6BACGX,EAAYsB,WAQd,IAAMC,EAAQ","file":"component---src-pages-index-tsx-6368ec36604085d349a2.js","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { graphql, Link } from 'gatsby'\r\nimport { documentToReactComponents } from '@contentful/rich-text-react-renderer'\r\n\r\nexport default ({ data }) => {\r\n\r\n  const [netlifyData , setNetlifyData] = useState(Object);\r\n\r\n  useEffect(() =>{\r\n    fetch(`/.netlify/functions/faunadb-netlify`)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      \r\n      setNetlifyData(data),\r\n      console.log(\"Data: \" + JSON.stringify(data));\r\n    \r\n    });\r\n}, []);\r\n  console.log(data);\r\n  const posts = data.allContentfulBlogSite.edges.map((post, index) =>\r\n    <li key={index}><Link to={post.node.slug}>{post.node.title}</Link></li>\r\n  );\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {posts}\r\n      </ul>\r\n\r\n      <hr/>\r\n      <div>\r\n        {netlifyData.message}\r\n      </div>\r\n\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport const query = graphql`\r\n\r\n    query {\r\n        allContentfulBlogSite {\r\n            edges {\r\n              node {\r\n                title\r\n                slug\r\n                content {\r\n                  json\r\n                }\r\n                publishDate\r\n              }\r\n            }\r\n          }\r\n    }\r\n`"],"sourceRoot":""}